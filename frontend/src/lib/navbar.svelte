<!--
SPDX-FileCopyrightText: 2023 Marlon W (Mawoka)

SPDX-License-Identifier: MPL-2.0
-->

<script lang="ts">
	import '@fontsource/marck-script/index.css';
	import { getLocalization } from '$lib/i18n';
	import { signedIn, pathname } from '$lib/stores';
	import { createTippy } from 'svelte-tippy';
	import BrownButton from '$lib/components/buttons/brown.svelte';
	import { browser } from '$app/environment';
	import { beforeNavigate } from '$app/navigation';
	import { draw, slide } from 'svelte/transition';

	const tippy = createTippy({
		arrow: true,
		animation: 'perspective-subtle',
		placement: 'bottom'
	});

	const { t } = getLocalization();

	let menuIsClosed = true;
	const toggleMenu = () => {
		menuIsClosed = !menuIsClosed;
	};

	beforeNavigate(() => {
		menuIsClosed = true; // Closes menu to let the user see the page beneath
	});

	let darkMode = false;
	if (browser) {
		darkMode =
			localStorage.theme === 'dark' ||
			(!('theme' in localStorage) &&
				window.matchMedia('(prefers-color-scheme: dark)').matches);
	}

	const switchDarkMode = () => {
		!darkMode ? localStorage.setItem('theme', 'dark') : localStorage.setItem('theme', 'light');
		window.location.reload();
	};
</script>

<nav class="w-screen px-4 lg:px-10 py-2 fixed backdrop-blur-2xl bg-white/70 shadow-md z-30 top-0">
	<!-- Desktop navbar -->
	<div class="hidden lg:flex lg:items-center lg:flex-row lg:justify-between">
		<div class="lg:flex lg:items-center lg:flex-row gap-1">
			<!-- <a
				href="/"
				class="font-black tracking-tight text-xl lg:text-2xl text-black marck-script link-hover px-3 lg:px-5"
				>Keos</a> -->
			{#if $signedIn}
				<a
				href="/dashboard">
				<div class="logo">
					<!-- Include your SVG code directly here -->
					<svg 
					width="100" 
					height="50" 
					viewBox="0 0 1031 400" 
					fill="none" 
					xmlns="http://www.w3.org/2000/svg"
					>
					<path d="M347.562 64.6191C392.977 62.0828 428.472 85.3501 456.03 123.394C468.927 141.037 466.392 157.688 447.652 168.715C416.126 187.351 384.048 204.995 351.75 222.197C337.31 229.916 319.011 223.851 312.508 210.839C304.792 195.622 310.303 177.647 325.405 169.377C342.822 159.783 360.238 150.3 377.545 140.817C379.86 139.493 383.167 138.942 382.726 135.413C382.395 132.215 379.529 131.113 377.104 130.01C356.16 120.306 335.216 120.747 314.602 130.672C283.737 145.558 268.635 175.221 273.596 209.406C277.785 237.966 303.579 263.108 334.664 268.18C365.199 273.142 388.899 261.123 406.315 236.643C414.252 225.505 423.732 219.661 437.511 221.205C455.148 223.189 467.053 240.723 462.313 257.925C460.549 264.321 457.573 270.055 453.605 275.238C407.748 333.461 335.657 342.724 280.871 311.958C237.44 287.588 214.952 249.544 212.197 201.025C209.661 156.144 229.944 120.306 264.447 92.5178C287.485 73.8819 313.831 63.4061 347.451 64.7294L347.562 64.6191Z" fill="#0061FF"/>
					<path d="M760.381 197.937C760.16 272.371 702.068 328.168 625.898 328.719C559.317 329.16 493.399 268.621 494.611 195.291C495.824 125.379 556.01 63.1856 624.465 63.0753C701.186 63.0753 760.601 121.96 760.381 197.937ZM700.304 196.614C700.525 155.924 668.337 123.394 627.771 123.063C588.97 122.732 555.129 156.475 554.908 195.622C554.577 234.768 587.867 268.291 627.331 268.621C667.235 268.842 700.194 236.422 700.304 196.724V196.614Z" fill="#0061FF"/>
					<path d="M-0.000274029 163.533C-0.000274029 120.086 -0.110506 76.6388 0.109958 33.1919C0.330422 8.82186 18.5187 -5.07235 40.3446 1.76448C50.2655 4.85209 56.7692 11.2478 59.3045 21.5031C61.1785 29.2221 61.9501 36.9411 61.9501 44.8806C61.9501 80.1675 61.9501 115.344 61.9501 150.631C61.9501 163.422 62.1706 164.194 75.2882 163.312C85.8705 162.651 93.5867 166.069 100.421 174.009C119.932 196.945 138.01 220.984 156.529 244.693C181.331 276.451 206.244 308.209 231.156 339.967C238.211 348.899 242.4 358.713 239.093 370.402C232.589 394 206.134 401.94 189.158 384.407C176.371 371.174 165.458 356.067 153.994 341.621C127.318 307.768 100.752 273.915 74.0756 239.951C72.6426 238.076 71.0994 236.202 69.4459 234.437C68.1231 232.894 66.5799 230.798 64.4855 231.46C61.6194 232.342 62.0603 235.319 62.0603 237.635C62.0603 254.727 62.0603 271.819 61.9501 288.911C61.9501 293.984 61.7297 299.167 60.6273 304.239C57.2101 320.559 47.179 328.609 31.1954 328.499C15.322 328.278 3.96808 318.905 1.32251 303.026C0.330422 296.961 0.109958 290.786 0.109958 284.611C0.109958 244.251 0.109958 203.892 0.109958 163.533H-0.000274029Z" fill="#0061FF"/>
					<path d="M905.556 225.836C894.312 225.836 882.959 225.174 871.715 225.946C831.921 228.483 794.001 183.712 793.34 147.874C792.568 106.633 831.37 58.5542 880.533 63.1856C892.769 64.2883 905.225 63.1856 917.351 64.3986C932.453 66.0526 942.153 77.4106 942.704 91.9664C943.145 105.309 933.555 117.549 919.776 121.078C908.312 124.055 896.627 122.732 885.053 123.063C880.644 123.063 876.124 122.842 871.715 123.504C861.243 125.048 853.637 133.208 852.865 143.463C852.094 152.616 858.707 162.32 867.967 165.628C872.817 167.392 877.998 167.723 883.179 167.723C904.674 167.723 926.28 167.392 947.775 167.723C982.719 168.385 1009.06 183.271 1023.28 216.022C1037.06 247.67 1032.54 277.002 1009.28 302.695C994.954 318.574 976.656 327.506 955.271 328.609C941.602 329.271 927.933 328.94 914.264 328.609C896.517 328.278 884.832 316.038 884.943 298.505C884.943 282.185 896.297 271.158 914.044 270.496C924.957 270.055 935.98 270.937 946.893 270.055C967.176 268.511 977.317 250.978 967.176 235.76C962.326 228.372 954.83 226.277 946.673 226.057C933.004 225.836 919.335 226.057 905.666 226.057L905.556 225.836Z" fill="#0061FF"/>
					<path d="M96.3428 131.554C95.9019 126.151 97.8861 120.858 101.083 115.785C113.429 96.4876 125.665 77.1901 139.554 59.1056C151.128 43.9984 168.214 40.4697 181.773 50.0633C195.772 59.8775 198.638 77.7414 188.717 93.6205C176.371 113.249 163.695 132.767 149.144 150.851C140.436 161.658 127.759 164.746 115.082 160.114C103.508 155.924 96.5633 145.558 96.453 131.554H96.3428Z" fill="#0061FF"/>
					<path d="M971.254 116.557C971.475 100.788 985.254 88.2171 1002.01 88.6582C1018.32 89.0993 1030.89 102.442 1030.34 118.983C1029.9 133.428 1015.68 147.433 1001.46 147.323C983.931 147.323 970.923 134.09 971.144 116.557H971.254Z" fill="#0061FF"/>
					<path d="M823.543 301.813C806.568 301.813 794.552 289.904 794.442 273.032C794.332 258.035 808.111 244.141 822.992 244.141C838.755 244.141 852.204 257.704 852.424 273.583C852.534 289.132 839.637 301.923 823.654 301.813H823.543Z" fill="#0061FF"/>					
					</svg>
				</div>
				</a>
			{:else}
			<a
			href="/">
			<div class="logo">
				<!-- Include your SVG code directly here -->
				<svg 
				width="100" 
				height="50" 
				viewBox="0 0 1031 400" 
				fill="none" 
				xmlns="http://www.w3.org/2000/svg"
				>
				<path d="M347.562 64.6191C392.977 62.0828 428.472 85.3501 456.03 123.394C468.927 141.037 466.392 157.688 447.652 168.715C416.126 187.351 384.048 204.995 351.75 222.197C337.31 229.916 319.011 223.851 312.508 210.839C304.792 195.622 310.303 177.647 325.405 169.377C342.822 159.783 360.238 150.3 377.545 140.817C379.86 139.493 383.167 138.942 382.726 135.413C382.395 132.215 379.529 131.113 377.104 130.01C356.16 120.306 335.216 120.747 314.602 130.672C283.737 145.558 268.635 175.221 273.596 209.406C277.785 237.966 303.579 263.108 334.664 268.18C365.199 273.142 388.899 261.123 406.315 236.643C414.252 225.505 423.732 219.661 437.511 221.205C455.148 223.189 467.053 240.723 462.313 257.925C460.549 264.321 457.573 270.055 453.605 275.238C407.748 333.461 335.657 342.724 280.871 311.958C237.44 287.588 214.952 249.544 212.197 201.025C209.661 156.144 229.944 120.306 264.447 92.5178C287.485 73.8819 313.831 63.4061 347.451 64.7294L347.562 64.6191Z" fill="#0061FF"/>
				<path d="M760.381 197.937C760.16 272.371 702.068 328.168 625.898 328.719C559.317 329.16 493.399 268.621 494.611 195.291C495.824 125.379 556.01 63.1856 624.465 63.0753C701.186 63.0753 760.601 121.96 760.381 197.937ZM700.304 196.614C700.525 155.924 668.337 123.394 627.771 123.063C588.97 122.732 555.129 156.475 554.908 195.622C554.577 234.768 587.867 268.291 627.331 268.621C667.235 268.842 700.194 236.422 700.304 196.724V196.614Z" fill="#0061FF"/>
				<path d="M-0.000274029 163.533C-0.000274029 120.086 -0.110506 76.6388 0.109958 33.1919C0.330422 8.82186 18.5187 -5.07235 40.3446 1.76448C50.2655 4.85209 56.7692 11.2478 59.3045 21.5031C61.1785 29.2221 61.9501 36.9411 61.9501 44.8806C61.9501 80.1675 61.9501 115.344 61.9501 150.631C61.9501 163.422 62.1706 164.194 75.2882 163.312C85.8705 162.651 93.5867 166.069 100.421 174.009C119.932 196.945 138.01 220.984 156.529 244.693C181.331 276.451 206.244 308.209 231.156 339.967C238.211 348.899 242.4 358.713 239.093 370.402C232.589 394 206.134 401.94 189.158 384.407C176.371 371.174 165.458 356.067 153.994 341.621C127.318 307.768 100.752 273.915 74.0756 239.951C72.6426 238.076 71.0994 236.202 69.4459 234.437C68.1231 232.894 66.5799 230.798 64.4855 231.46C61.6194 232.342 62.0603 235.319 62.0603 237.635C62.0603 254.727 62.0603 271.819 61.9501 288.911C61.9501 293.984 61.7297 299.167 60.6273 304.239C57.2101 320.559 47.179 328.609 31.1954 328.499C15.322 328.278 3.96808 318.905 1.32251 303.026C0.330422 296.961 0.109958 290.786 0.109958 284.611C0.109958 244.251 0.109958 203.892 0.109958 163.533H-0.000274029Z" fill="#0061FF"/>
				<path d="M905.556 225.836C894.312 225.836 882.959 225.174 871.715 225.946C831.921 228.483 794.001 183.712 793.34 147.874C792.568 106.633 831.37 58.5542 880.533 63.1856C892.769 64.2883 905.225 63.1856 917.351 64.3986C932.453 66.0526 942.153 77.4106 942.704 91.9664C943.145 105.309 933.555 117.549 919.776 121.078C908.312 124.055 896.627 122.732 885.053 123.063C880.644 123.063 876.124 122.842 871.715 123.504C861.243 125.048 853.637 133.208 852.865 143.463C852.094 152.616 858.707 162.32 867.967 165.628C872.817 167.392 877.998 167.723 883.179 167.723C904.674 167.723 926.28 167.392 947.775 167.723C982.719 168.385 1009.06 183.271 1023.28 216.022C1037.06 247.67 1032.54 277.002 1009.28 302.695C994.954 318.574 976.656 327.506 955.271 328.609C941.602 329.271 927.933 328.94 914.264 328.609C896.517 328.278 884.832 316.038 884.943 298.505C884.943 282.185 896.297 271.158 914.044 270.496C924.957 270.055 935.98 270.937 946.893 270.055C967.176 268.511 977.317 250.978 967.176 235.76C962.326 228.372 954.83 226.277 946.673 226.057C933.004 225.836 919.335 226.057 905.666 226.057L905.556 225.836Z" fill="#0061FF"/>
				<path d="M96.3428 131.554C95.9019 126.151 97.8861 120.858 101.083 115.785C113.429 96.4876 125.665 77.1901 139.554 59.1056C151.128 43.9984 168.214 40.4697 181.773 50.0633C195.772 59.8775 198.638 77.7414 188.717 93.6205C176.371 113.249 163.695 132.767 149.144 150.851C140.436 161.658 127.759 164.746 115.082 160.114C103.508 155.924 96.5633 145.558 96.453 131.554H96.3428Z" fill="#0061FF"/>
				<path d="M971.254 116.557C971.475 100.788 985.254 88.2171 1002.01 88.6582C1018.32 89.0993 1030.89 102.442 1030.34 118.983C1029.9 133.428 1015.68 147.433 1001.46 147.323C983.931 147.323 970.923 134.09 971.144 116.557H971.254Z" fill="#0061FF"/>
				<path d="M823.543 301.813C806.568 301.813 794.552 289.904 794.442 273.032C794.332 258.035 808.111 244.141 822.992 244.141C838.755 244.141 852.204 257.704 852.424 273.583C852.534 289.132 839.637 301.923 823.654 301.813H823.543Z" fill="#0061FF"/>					
				</svg>
			</div>
			</a>
			{/if}

			<div style="width: 20px;"></div>
			<a class="btn-nav border-2 rounded" href="/play">{$t('words.play')}</a>
			<a class="btn-nav" href="/explore">{$t('words.explore')}</a>
			<a class="btn-nav" href="/search">{$t('words.search')}</a>
			{#if $signedIn}
				<a class="btn-nav" href="/dashboard">{$t('words.dashboard')}</a>
			{:else}
				<!-- <a class="btn-nav" href="/docs">{$t('words.docs')}</a>
				<a
					target="_blank"
					class="btn-nav flex items-center gap-1"
					href="https://github.com/mawoka-myblock/ClassQuiz"
					>GitHub
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="17"
						height="17"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
						stroke-linecap="round"
						stroke-linejoin="round"
						class="lucide lucide-external-link"
						><path
							d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
						/><polyline points="15 3 21 3 21 9" /><line
							x1="10"
							x2="21"
							y1="14"
							y2="3"
						/></svg
					>
				</a> -->
			{/if}
		</div>
		<div class="lg:flex lg:items-center lg:flex-row gap-1">
			{#if $signedIn}
				<a class="btn-nav" href="/api/v1/users/logout">{$t('words.logout')}</a>
			{:else}
				{#if !import.meta.env.VITE_REGISTRATION_DISABLED}
					<a class="btn-nav" href="/account/register">{$t('words.register')}</a>
				{/if}

				<a class="btn-nav" href="/account/login?returnTo={$pathname}">{$t('words.login')}</a
				>
			{/if}

			<div class="fit-content flex items-center justify-center gap-2">
				<!-- <BrownButton href="https://mawoka.eu/donate" target="_blank"
					>{$t('navbar.donate')} <span class="">❤️</span></BrownButton
				> -->
				<div class="lg:flex items-center justify-center">
					{#if darkMode}
						<button
							on:click={() => {
								switchDarkMode();
							}}
							use:tippy={{ content: 'Switch light mode on' }}
							aria-label="Activate light mode"
						>
							<!-- Heroicons: sun -->
							<svg
								class="w-6 h-6 text-black"
								fill="none"
								aria-label="Sun-Icon"
								stroke="currentColor"
								viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									stroke="currentColor"
									d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
								/>
							</svg>
						</button>
					{:else}
						<button
							on:click={() => {
								switchDarkMode();
							}}
							aria-label="Activate darkmode"
							use:tippy={{ content: 'Switch dark mode on' }}
						>
							<!-- Heroicons: moon -->
							<svg
								aria-label="Moon-Icon"
								class="w-6 h-6"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
								/>
							</svg>
						</button>
					{/if}
				</div>
			</div>
		</div>
	</div>

	<!-- Mobile navbar -->
	<div class="lg:hidden">
		<!-- Navbar header -->
		<div class="flex items-center justify-between">
			<!-- <a
				href="/"
				class="font-black tracking-tight text-xl lg:text-2xl text-black marck-script link-hover px-3 lg:px-5"
				>ClassQuiz</a
			> -->
			<a
			href="/">
			<div class="logo">
				<!-- Include your SVG code directly here -->
				<svg 
				width="100" 
				height="50" 
				viewBox="0 0 1031 400" 
				fill="none" 
				xmlns="http://www.w3.org/2000/svg"
				>
				<path d="M347.562 64.6191C392.977 62.0828 428.472 85.3501 456.03 123.394C468.927 141.037 466.392 157.688 447.652 168.715C416.126 187.351 384.048 204.995 351.75 222.197C337.31 229.916 319.011 223.851 312.508 210.839C304.792 195.622 310.303 177.647 325.405 169.377C342.822 159.783 360.238 150.3 377.545 140.817C379.86 139.493 383.167 138.942 382.726 135.413C382.395 132.215 379.529 131.113 377.104 130.01C356.16 120.306 335.216 120.747 314.602 130.672C283.737 145.558 268.635 175.221 273.596 209.406C277.785 237.966 303.579 263.108 334.664 268.18C365.199 273.142 388.899 261.123 406.315 236.643C414.252 225.505 423.732 219.661 437.511 221.205C455.148 223.189 467.053 240.723 462.313 257.925C460.549 264.321 457.573 270.055 453.605 275.238C407.748 333.461 335.657 342.724 280.871 311.958C237.44 287.588 214.952 249.544 212.197 201.025C209.661 156.144 229.944 120.306 264.447 92.5178C287.485 73.8819 313.831 63.4061 347.451 64.7294L347.562 64.6191Z" fill="#0061FF"/>
				<path d="M760.381 197.937C760.16 272.371 702.068 328.168 625.898 328.719C559.317 329.16 493.399 268.621 494.611 195.291C495.824 125.379 556.01 63.1856 624.465 63.0753C701.186 63.0753 760.601 121.96 760.381 197.937ZM700.304 196.614C700.525 155.924 668.337 123.394 627.771 123.063C588.97 122.732 555.129 156.475 554.908 195.622C554.577 234.768 587.867 268.291 627.331 268.621C667.235 268.842 700.194 236.422 700.304 196.724V196.614Z" fill="#0061FF"/>
				<path d="M-0.000274029 163.533C-0.000274029 120.086 -0.110506 76.6388 0.109958 33.1919C0.330422 8.82186 18.5187 -5.07235 40.3446 1.76448C50.2655 4.85209 56.7692 11.2478 59.3045 21.5031C61.1785 29.2221 61.9501 36.9411 61.9501 44.8806C61.9501 80.1675 61.9501 115.344 61.9501 150.631C61.9501 163.422 62.1706 164.194 75.2882 163.312C85.8705 162.651 93.5867 166.069 100.421 174.009C119.932 196.945 138.01 220.984 156.529 244.693C181.331 276.451 206.244 308.209 231.156 339.967C238.211 348.899 242.4 358.713 239.093 370.402C232.589 394 206.134 401.94 189.158 384.407C176.371 371.174 165.458 356.067 153.994 341.621C127.318 307.768 100.752 273.915 74.0756 239.951C72.6426 238.076 71.0994 236.202 69.4459 234.437C68.1231 232.894 66.5799 230.798 64.4855 231.46C61.6194 232.342 62.0603 235.319 62.0603 237.635C62.0603 254.727 62.0603 271.819 61.9501 288.911C61.9501 293.984 61.7297 299.167 60.6273 304.239C57.2101 320.559 47.179 328.609 31.1954 328.499C15.322 328.278 3.96808 318.905 1.32251 303.026C0.330422 296.961 0.109958 290.786 0.109958 284.611C0.109958 244.251 0.109958 203.892 0.109958 163.533H-0.000274029Z" fill="#0061FF"/>
				<path d="M905.556 225.836C894.312 225.836 882.959 225.174 871.715 225.946C831.921 228.483 794.001 183.712 793.34 147.874C792.568 106.633 831.37 58.5542 880.533 63.1856C892.769 64.2883 905.225 63.1856 917.351 64.3986C932.453 66.0526 942.153 77.4106 942.704 91.9664C943.145 105.309 933.555 117.549 919.776 121.078C908.312 124.055 896.627 122.732 885.053 123.063C880.644 123.063 876.124 122.842 871.715 123.504C861.243 125.048 853.637 133.208 852.865 143.463C852.094 152.616 858.707 162.32 867.967 165.628C872.817 167.392 877.998 167.723 883.179 167.723C904.674 167.723 926.28 167.392 947.775 167.723C982.719 168.385 1009.06 183.271 1023.28 216.022C1037.06 247.67 1032.54 277.002 1009.28 302.695C994.954 318.574 976.656 327.506 955.271 328.609C941.602 329.271 927.933 328.94 914.264 328.609C896.517 328.278 884.832 316.038 884.943 298.505C884.943 282.185 896.297 271.158 914.044 270.496C924.957 270.055 935.98 270.937 946.893 270.055C967.176 268.511 977.317 250.978 967.176 235.76C962.326 228.372 954.83 226.277 946.673 226.057C933.004 225.836 919.335 226.057 905.666 226.057L905.556 225.836Z" fill="#0061FF"/>
				<path d="M96.3428 131.554C95.9019 126.151 97.8861 120.858 101.083 115.785C113.429 96.4876 125.665 77.1901 139.554 59.1056C151.128 43.9984 168.214 40.4697 181.773 50.0633C195.772 59.8775 198.638 77.7414 188.717 93.6205C176.371 113.249 163.695 132.767 149.144 150.851C140.436 161.658 127.759 164.746 115.082 160.114C103.508 155.924 96.5633 145.558 96.453 131.554H96.3428Z" fill="#0061FF"/>
				<path d="M971.254 116.557C971.475 100.788 985.254 88.2171 1002.01 88.6582C1018.32 89.0993 1030.89 102.442 1030.34 118.983C1029.9 133.428 1015.68 147.433 1001.46 147.323C983.931 147.323 970.923 134.09 971.144 116.557H971.254Z" fill="#0061FF"/>
				<path d="M823.543 301.813C806.568 301.813 794.552 289.904 794.442 273.032C794.332 258.035 808.111 244.141 822.992 244.141C838.755 244.141 852.204 257.704 852.424 273.583C852.534 289.132 839.637 301.923 823.654 301.813H823.543Z" fill="#0061FF"/>					
				</svg>
			</div>
			</a>
			<a class="btn-nav flex" href="/play">{$t('words.play')}</a>

			<!-- Dark/Light mode toggle + Open/Close menu -->
			<div class="flex items-center">
				{#if darkMode}
					<!-- Sun icon -->
					<button
						class="px-3"
						on:click={() => {
							switchDarkMode();
						}}
						use:tippy={{ content: 'Switch light mode on' }}
						aria-label="Activate light mode"
					>
						<!-- Heroicons: sun -->
						<svg
							class="w-6 h-6 text-black"
							fill="none"
							aria-label="Sun-Icon"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								stroke="currentColor"
								d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
							/>
						</svg>
					</button>
				{:else}
					<!-- Moon icon -->
					<button
						class="px-3"
						on:click={() => {
							switchDarkMode();
						}}
						aria-label="Activate darkmode"
						use:tippy={{ content: 'Switch dark mode on' }}
					>
						<!-- Heroicons: moon -->
						<svg
							aria-label="Moon-Icon"
							class="w-6 h-6"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
							/>
						</svg>
					</button>
				{/if}

				{#if menuIsClosed}
					<button
						class="px-3"
						id="open-menu"
						on:click={toggleMenu}
						aria-label="Open navbar"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							fill="none"
							stroke="#000000"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
						>
							<path d="M3 6h18M3 12h18M3 18h18" />
						</svg>
					</button>
				{:else}
					<button
						class="px-3"
						id="close-menu"
						on:click={toggleMenu}
						aria-label="Close navbar"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							fill="none"
							stroke="#000000"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							><path in:draw={{ duration: 300 }} d="M18 6 6 18" /><path
								in:draw={{ duration: 300 }}
								d="m6 6 12 12"
							/></svg
						>
					</button>
				{/if}
			</div>
		</div>

		<!-- Navbar content -->
		{#if !menuIsClosed}
			<div class="flex flex-col" transition:slide={{ duration: 400 }}>
				<a class="btn-nav" href="/explore">{$t('words.explore')}</a>
				<a class="btn-nav" href="/search">{$t('words.search')}</a>
				{#if $signedIn}
					<a class="btn-nav" href="/dashboard">{$t('words.dashboard')}</a>
				{:else}
					<!-- <a class="btn-nav" href="/docs">{$t('words.docs')}</a>
					<a
						target="_blank"
						class="btn-nav flex items-center gap-1"
						href="https://github.com/mawoka-myblock/ClassQuiz"
						>GitHub
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="17"
							height="17"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="lucide lucide-external-link"
							><path
								d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
							/><polyline points="15 3 21 3 21 9" /><line
								x1="10"
								x2="21"
								y1="14"
								y2="3"
							/></svg
						>
					</a> -->
				{/if}

				<hr class="my-1 border" />
				{#if $signedIn}
					<a class="btn-nav" href="/api/v1/users/logout">{$t('words.logout')}</a>
				{:else}
					{#if !import.meta.env.VITE_REGISTRATION_DISABLED}
						<a class="btn-nav" href="/account/register">{$t('words.register')}</a>
					{/if}

					<a class="btn-nav" href="/account/login?returnTo={$pathname}"
						>{$t('words.login')}</a
					>
				{/if}

				<!-- <div class="fit-content flex items-center justify-center my-2">
					<BrownButton href="https://mawoka.eu/donate" target="_blank"
						>{$t('navbar.donate')} <span class="">❤️</span></BrownButton
					>
				</div> -->
			</div>
		{/if}
	</div>
</nav>

<!-- text hover color changed to #0061ff -->
<style lang="scss">
	.btn-nav {
		@apply text-lg font-medium px-3 text-gray-600 hover:text-blue-500 py-1.5 transition-all duration-300;
;
	}
</style>
